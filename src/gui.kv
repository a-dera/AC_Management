
#:import C kivy.utils.get_color_from_hex
#:import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#:import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#:import FadeTransition kivy.uix.screenmanager.FadeTransition 
#:import CardTransition kivy.uix.screenmanager.CardTransition
#:import SwapTransition kivy.uix.screenmanager.SwapTransition 
#:import WipeTransition kivy.uix.screenmanager.WipeTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
##:import NoTransition kivy.uix.screenmanager.

<AdminInfoEditField>:
	hint_text:""
	text:""
	size_hint_y:None
	height:60
	MDTextField:
		id:txt
		hint_text:root.hint_text
		text:root.text
		size_hint_x:None
		width:200

<AdminInfoLabel>:
	text:""
	title:""
	spacing:-20
	size_hint_y:None
	height:60		
	orientation:"vertical"
	MDLabel:
		text:root.title
		color:.53,.53,.53,1
		font_size:14
	MDLabel:
		text:root.text
		color: 0,0,0,1 if app.theme_cls.theme_style=="Light" else 1,1,1,1

<Section@BoxLayout>:
	size_hint_y:1
	canvas:
		Color:
			rgba:(0,0,0,1)
		Rectangle:
			size: self.size_hint
			pos: self.pos

<SectionLabel@Label>:
	font_size: 20
	bold: True
	color: (1, 1, 1, 1)

#popup to progress
<ProgressPop>:
	size_hint: 0.8, 0.2
	auto_dismiss: False

#-------------Custom Buttons-----------------------#
<DropBtn>:
	size_hint_y: None
	size_hint_x: 0.6
	height: "40dp"
	elevation_normal: 20
	opposite_colors: True

#---------------being used in 'Row' Class------------#
<ListItemLayout>:
	text: ''
	canvas.before:
		Color:
			rgba: (0,0,0,0)
		RoundedRectangle:
			pos: self.pos
			size: self.size


#---------------used in profile page----------#
<ListItemLayoutProfile@AnchorLayout>:
	text: ''
	canvas.before:
		Color:
			rgba: (0,0,0,0)
		RoundedRectangle:
			pos: self.pos
			size: self.size

<TextInputForList>:
	font_size:"17dp"
	size_hint: .7,.8
	foreground_color: [1,1,1,.5] if self.disabled else [1,1,1,1]
	write_tab: False
	padding:0,self.height/2-self.line_height/2
	multiline:False
	background_color: [.1,.1,.1,1] if self.disabled else [0,0,0,1]
	cursor_color: C('#ffffff')
	canvas.before:
		Color:
		    rgba:  1,1,1,1
	canvas.after:
		Color:
		    rgba: 0,0,0,1
		Ellipse:
		    angle_start:180
		    angle_end:360
		    pos:(self.pos[0] - self.size[1]/2.0, self.pos[1])
		    size: (self.size[1], self.size[1])
		Ellipse:
		    angle_start:360
		    angle_end:540
		    pos: (self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1])
		    size: (self.size[1], self.size[1])
		Color:
		    rgba:(1,1,1,1) if self.focus==False else app.theme_cls.primary_color
		Line:
		    width:1.1
		    points: self.pos[0] , self.pos[1], self.pos[0] + self.size[0], self.pos[1]
		Line:
		    width:1.1
		    points: self.pos[0], self.pos[1] + self.size[1], self.pos[0] + self.size[0], self.pos[1] + self.size[1]
		Line:
		    width:1.1
		    ellipse: self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 180, 360
		Line:
		    width:1.1
		    ellipse: self.size[0] + self.pos[0] - self.size[1]/2.0, self.pos[1], self.size[1], self.size[1], 360, 540


<LabelForListStudent>:
	font_size:"20dp"
	bold: True
	#color:(0,0,0,1) if app.theme_cls.theme_style=="Dark" else (1,1,1,1)
	#test
	color:(1,1,1,1) if app.theme_cls.theme_style=="Dark" else (0,0,0,1)

<LabelForList>:
	font_size:"20dp"
	bold: True
	color:(1,1,1,1) #if app.theme_cls.theme_style=="Dark" else (1,1,1,1)
	

#---------------being used in Profile Page--------#
<Rowinfo>:
	color: [.7,.7,.7,1] if app.theme_cls.theme_style=="Dark" else C("#17202A")

	canvas.before:
		Color:
			rgba: self.color 
		RoundedRectangle:
			pos: self.pos
			size: self.size		
	spacing: "10dp"

	sem:''
	paid: ''
	due: ''
	late:""
	date:''
	tid:""
	remarks:''
   
	#-------paid item--------#
	ListItemLayoutProfile:
		id: item1
		size_hint:(0.10,1)
		LabelForList:
			id: lbl1
			text: root.sem
			
	#-------paid item--------#
	ListItemLayoutProfile:
		id: item2
		size_hint:(0.13,1)
		LabelForList:
			id: lbl2
			text: root.paid
			
	#-------due item--------#
	ListItemLayoutProfile:
		id: item3
		size_hint:(0.13,1)
		LabelForList:
			id: lbl3
			text: root.due
			
	#-------late item--------#
	ListItemLayoutProfile:
		id: item4
		size_hint:(0.13,1)
		LabelForList:
			id: lbl4
			text: root.late
			
	#-------date item--------#
	ListItemLayoutProfile:
		id: item5
		size_hint:(0.13,1)
		LabelForList:
			id: lbl5
			text: root.date
			
	#-------Tid item--------#
	ListItemLayoutProfile:
		id: item6
		size_hint:(0.15,1)
		LabelForList:
			id: lbl6
			text: root.tid
			
	#-------remarks item--------#
	ListItemLayoutProfile:
		id: item7
		size_hint:(0.23,1)
		LabelForList:
			id: lbl7
			text: root.remarks
			
	BoxLayout:
		size_hint: 0.06,1

		HoverLayout:
			on_enter:
				btn1.text_color= [1,1,1,1]
				btn1.md_bg_color= [.5,.5,.5,.5]
			on_leave:
				btn1.text_color=[.4,.4,.4,1]
				btn1.md_bg_color= [.5,.5,.5,0]

			AnchorLayout:
				MDIconButton:
					id: btn1
					icon: "pencil"
					theme_text_color: "Custom"
					md_bg_color:[.5,.5,.5,0]
					text_color: [.4,.4,.4,1]
					on_release:
						root.edit(root, self.icon, app)
						self.icon= "check" if self.icon=="pencil" else "pencil"
						

		HoverLayout:
			on_enter:
				btn2.text_color=[1,0,0,1]
				btn2.md_bg_color= [.5,.5,.5,.5]
			on_leave:
				btn2.text_color=[.4,0,0,1]
				btn2.md_bg_color= [.5,.5,.5,0]

			AnchorLayout:
				MDIconButton:
					id: btn2
					icon: "delete-forever"
					theme_text_color: "Custom"
					md_bg_color: [.5,.5,.5,0]
					text_color: [.4,0,0,1]
					on_release:
						root.delete(app, root, root.ids.btn1.icon)

<LabelAccountPage@Label>
	size_hint: None, None
	size: self.texture_size
	pos_hint: {'center_x': .5}

<BoxMinimumHeight@BoxLayout>
	size_hint_y: None
	height: self.minimum_height

<StudentInfoHeader@BoxLayout>:
	info_title: ''
	info_name: ''
	
	AnchorLayout:
		anchor_x: "right"
		Label:
			size_hint: None, None
			text: root.info_title
			size: self.texture_size
			bold: True
			font_size: sp(15)
	AnchorLayout:
		anchor_x: "left"
		Label:
			text: root.info_name
			size_hint: None, None
			size: self.texture_size
	
##--------------------List Items' Layout---------------------------------------###########
#being used in user screen
<Row@BoxLayout>:
	canvas.before:
		Color:
			#rgba:(.7,.7,.7,1) if app.theme_cls.theme_style=="Dark" else C("#17202A")
			#test
			rgba:(0,0,0,1) if app.theme_cls.theme_style=="Dark" else C("#ffffff")
		Rectangle:
			pos: self.pos
			size: self.size
	spacing: "10dp"

	sno: 0
	reg: 0
	name: ''
	course: ''
	stream: ''
	batch: ''

	#-------S. No. item--------#
	ListItemLayout:
		size_hint:(0.05,1)
		LabelForListStudent:
			id: lbl0
			text: str(root.sno)

	#---------reg. no.-----------#
	ListItemLayout:
		size_hint:(0.1,1)
		LabelForListStudent:
			id: lbl1
			text: str(root.reg)

	#-------name item--------#
	ListItemLayout:
		size_hint:(0.2,1)
		LabelForListStudent:
			id: lbl2
			text: root.name

	#-------course item--------#
	ListItemLayout:
		size_hint:(0.1,1)
		LabelForListStudent:
			id: lbl3
			text: root.course

	#-------stream item--------#
	ListItemLayout:
		size_hint:(0.1,1)
		LabelForListStudent:
			id: lbl4
			text: root.stream

	#-------batch item--------#
	ListItemLayout:
		size_hint:(0.1,1)
		LabelForListStudent:
			id: lbl5
			text: root.batch

<UserInfo>:
	canvas.before:
		Color:
			rgba:(.7,.7,.7,1) if app.theme_cls.theme_style=="Dark" else C("#17202A")
		RoundedRectangle:
			pos: self.pos
			size: self.size
	spacing: "10dp"

	sno:''
	name:''
	email:''
	username:''
	password:''

	ListItemLayoutProfile:
		size_hint:(0.3,1)
		LabelForList:
			text: root.sno
			bold: True

	ListItemLayoutProfile:
		#size_hint:(0.23,1)
		LabelForList:
			text: root.name
			bold: True

	ListItemLayoutProfile:
		#size_hint:(0.23,1)
		LabelForList:
			text: root.email
			bold: True

	ListItemLayoutProfile:
		#size_hint:(0.23,1)
		LabelForList:
			text: root.username
			bold: True

	ListItemLayoutProfile:
		#size_hint:(0.23,1)
		LabelForList:
			text: root.password
			bold: True

	BoxLayout:
		padding:0
		spacing:2
		size_hint: (None,1)
		width:90
		HoverLayout:
			on_enter:
				btn1.text_color= [1,1,1,1]
				btn1.md_bg_color= [.5,.5,.5,.5]
			on_leave:
				btn1.text_color=[.4,.4,.4,1]
				btn1.md_bg_color= [.5,.5,.5,0]
			
			MDIconButton:
				id:btn1
				size_hint: (.5,1)
				icon:"pencil"
				theme_text_color: "Custom"
				md_bg_color:[.5,.5,.5,0]
				text_color: [.4,.4,.4,1]
				#opposite_colors: True
				on_release:
					#root.verify_prev(root, self.icon, app)
					root.edit(root, self.icon, app)
					self.icon= "check" if self.icon=="pencil" else "pencil"
		HoverLayout:
			on_enter:
				btn2.text_color=[1,0,0,1]
				btn2.md_bg_color= [.5,.5,.5,.5]
			on_leave:
				btn2.text_color=[.4,0,0,1]
				btn2.md_bg_color= [.5,.5,.5,0]

			MDIconButton:
				id:btn2
				size_hint: (.5,1)
				icon:"delete-forever"
				theme_text_color: "Custom"
				md_bg_color: [.5,.5,.5,0]
				text_color: [.4,0,0,1]
				#opposite_colors: True
				on_release:
					root.delete(app, root,root.ids.btn1.icon)
#-------------------------Add Data Layout------------------------------------#

#####----------------for DateField----------------------###
<TextField@MDTextField>:
	write_tab:False
<DateField@BoxLayout>:
	padding:5
	canvas:
		Color:
			rgba:1,0,1,0
		RoundedRectangle:
			pos:self.pos
			size:self.size

	TextField:
		id:dd
		size_hint:root.width*.2,1
		hint_text:"DD"
		on_text:
			root.parent.parent.parent.next_focus(self.text,"dd")

	Label:
		size_hint:root.width*.1,1
		text:"/"
		color:0,0,0,1

	TextField:
		id:mm
		size_hint:root.width*.2,1
		hint_text:"MM"
		on_text:
			root.parent.parent.parent.next_focus(self.text,"mm")
	Label:
		size_hint:root.width*.1,1
		text:"/"
		color:0,0,0,1

	TextField:
		id:yy
		size_hint:root.width*.4,1
		hint_text:"YYYY"
		on_text:
			self.text =self.text[:4] if len(self.text)>4 else self.text
	#----------------------------------------------

<InputFields@MDTextField>:
	write_tab:False

<AddDataLayout>:
	size_hint: (1, .2)
	pos_hint: {'y': -0.3}
	on_open: app.root.ids.profilePage.anim_out(root)
	on_dismiss: app.root.ids.profilePage.anim_in(root)

	AnchorLayout:
		canvas:
			Color:
				rgba: (1,1,1,1) if app.theme_cls.theme_style=="Light" else C("#17202A")
			RoundedRectangle:
				size:self.size
				pos: self.pos
				radius:[10,10,0,0]
		BoxLayout:
			size_hint: (1, .6)
			padding: 10
			spacing: 20
			canvas:
				Color:
					rgba: (1, 0, 0, 0)
				RoundedRectangle:
					size:self.size
					pos: self.pos
			InputFields:
				size_hint_x: .4
				input_filter:"int"
				id:sem
				hint_text: "Semester"
				focus: True
				on_text:
					self.text= self.text.strip()
				on_text_validate:
					if (root.ids.sem.text and root.ids.paid.text and root.ids.date.text and root.ids.tid.text):\
					app.root.ids.profilePage.addFeeData(root); root.dismiss()

			InputFields:
				size_hint_x: .45
				input_filter:"int"
				id:paid
				hint_text: "Paid"
				on_text:
					self.text= self.text.strip()
				on_text_validate:
					if (root.ids.sem.text and root.ids.paid.text and root.ids.date.text and root.ids.tid.text):\
					app.root.ids.profilePage.addFeeData(root); root.dismiss()

			InputFields:
				size_hint_x: .45
				input_filter:"int"
				id:late
				hint_text: "Late"
				on_text:
					self.text= self.text.strip()
				on_text_validate:
					if (root.ids.sem.text and root.ids.paid.text and root.ids.date.text and root.ids.tid.text):\
					app.root.ids.profilePage.addFeeData(root); root.dismiss()

			DateField:
				size_hint_x: .6
				id:date
				text:self.ids.dd.text+"/"+self.ids.mm.text+"/"+self.ids.yy.text

			InputFields:
				size_hint_x: .7
				id:tid
				hint_text: "Transaction id"
				on_text:
					self.text= self.text.strip()
				on_text_validate:
					if (root.ids.sem.text and root.ids.paid.text and root.ids.date.text and root.ids.tid.text):\
					app.root.ids.profilePage.addFeeData(root); root.dismiss()

			InputFields:
				id:rem
				hint_text: "Remarks"
				multiline: True

			MDFloatingActionButton:
				icon: 'check'
				opposite_colors: True
				elevation_normal: 8
				md_bg_color: app.theme_cls.primary_color
				on_release:
					if (root.ids.sem.text and root.ids.paid.text and root.ids.date.text and root.ids.tid.text):\
					app.root.ids.profilePage.addFeeData(root); root.dismiss()
			MDFloatingActionButton:
				icon: 'window-close'
				opposite_colors: True
				elevation_normal: 8
				md_bg_color: app.theme_cls.primary_color
				on_release:root.dismiss()

<HoverOneLineListItem>:
	_color:[0,0,0,0]
	canvas:
		Color:
			rgba: root._color
		Rectangle:
			pos: self.pos
			size: self.size
	on_enter:
		self._color=[.5,.5,.5,.2]

	on_leave:
		self._color=[0,0,0,0]

#being used in manage student section
<UpdateStudentLayout>:
	id: updateInfoLayout
	name: ''
	batch: ''
	course: ''
	stream: ''

	orientation: 'vertical'
	BoxLayout:
		spacing: 10
		#name
		BoxLayout:
			padding: 10,0
			AnchorLayout:
				MDTextField:
					write_tab: False
					hint_text: "Name"
					text: root.name
					on_text: root.name= self.text


		#batch
		BoxLayout:
			padding: 10,0
			AnchorLayout:
				MDTextField:
					write_tab: False
					hint_text: "Batch"
					text: root.batch
					on_text: root.batch= self.text
	#course and stream
	AnchorLayout:
		spacing: 50
		BoxLayout:
			spacing: 50
			size_hint: None, None
			width: self.minimum_width
			height: self.minimum_height

			MDRaisedButton:
				size_hint: None, None
				size: 100, 50
				id:courseBtn
				elevation_normal:10
				opposite_colors: True
				text: root.course
				on_release:
					app.root.ids.adminScreen.openCourseList(self)

			MDRaisedButton:
				size_hint: None, None
				size: 100, 50
				id:streamBtn
				elevation_normal:10
				opposite_colors: True
				text: root.stream
				on_release:
					app.root.ids.adminScreen.openStreamList(self)

<DeleteWarning>:
	size_hint:.4,.4
	text:"Delete:\n"+self.delete_detail+"?"
	pos_hint: {'x': 1.4}
	on_open: self.anim_out(self)
	on_dismiss: self.anim_in(self)
	BoxLayout:
		id:container
		orientation:"vertical"
		canvas:
			Color:
				rgba: app.theme_cls.primary_color
			RoundedRectangle:
				size:self.size
				pos:self.pos
				radius:10,0,0,10
		BoxLayout:
			padding:self.width*.2,0,0,0
			Label:
				text:root.text
				text_size: self.size
				halign: 'left'
				valign: 'middle'
				font_size:self.height/30+self.width/29
		BoxLayout:
			canvas:
				Color:
					rgba:1,1,0,0
				RoundedRectangle:
					size:self.size
					pos:self.pos
					radius:10,0,0,10
			AnchorLayout:
				id:check
				MDFloatingActionButton:
					icon:"check"
					on_release:
						root.delete(app, self.text_color)
				
			AnchorLayout:
				MDFloatingActionButton:
					icon:"window-close"
					id:delete
					on_release:
						root.dismiss()
			
		BoxLayout:
			size_hint_y:.3

#root of the app
ScreenManager:
	HomeScreen:
		id: homeScreen
	UserScreen:
		id: userScreen
	AdminScreen:
		id: adminScreen
	ProfilePage:
		id: profilePage

#-------------------ProfilePage---------------------#
<ProfilePage>:
	name: 'profilepage'
	FloatLayout:
		canvas:
			Color:
				rgba: C(root.color)
			Rectangle:
				size: self.size
				pos: self.pos

		BoxLayout:
			orientation: 'vertical'
			spacing: dp(5)

			BoxMinimumHeight:
				padding:0,2,0,0

				Widget:
					size_hint: None, 1
					width: 20

				MDIconButton:
					size_hint: None, None
					size: 50,50
					icon: 'arrow-left'
					md_bg_color: app.theme_cls.primary_color
					theme_text_color: "Custom"
					text_color: [1,1,1,1]
					on_release:
						if root.check_edits(root.ids.rv.children[0]): app.root.transition= FallOutTransition();app.root.current= "userScreen"
				

			BoxMinimumHeight:
				orientation: 'vertical'
				padding: 0, dp(15), 0, 0
				spacing: dp(7)
				pos_hint: {'top': 1}
				Image:
					size_hint: None, None
					size: self.size
					source: 'media/images/user.png'
					pos_hint: {'center_x': .5}
				LabelAccountPage:
					id: name
					halign: 'center'
					font_size: '30sp'
					bold: True
				LabelAccountPage:
					id: roll
					halign: 'center'
					font_size: '18sp'
					
			BoxLayout:
				id: box
				orientation: 'vertical'
				spacing: dp(10)
				padding: dp(10)
				opacity: 0
				canvas.before:
					Color:
						rgba:(1, 1, 1, .7) if app.theme_cls.theme_style=="Light" else C("#1B2631")
					RoundedRectangle:
						radius: [10,10,0,0]
						size: self.size
						pos: self.pos
				BoxMinimumHeight:
					spacing: dp(10)
					padding: 2, 0, 10, 0
					BoxLayout:
						canvas:
							Color:
								rgba: 0, 0, 0, .7
							RoundedRectangle:
								size: self.size
								pos: self.pos
						id: button
						size_hint_x: None
						size_hint_y:None
						height:40
						StudentInfoHeader:
							id: course
							info_title: "Course: "
						StudentInfoHeader:
							id: stream
							info_title: "Stream: "
						StudentInfoHeader:
							id: batch
							info_title: "Batch: "
						StudentInfoHeader:
							id: fee
							info_title: "Fee: "
							
			
					MDIconButton:
						id: printbtn
						icon: "printer"
						size_hint: None, None
						size: 40,40
						opposite_colors: True
						md_bg_color: app.theme_cls.primary_color
						theme_text_color: 'Custom'
						text_color: [1,1,1,1] if app.theme_cls.theme_style=="Dark" else [0,0,0,1]
						on_release:
							print("Print data")
							
				BoxLayout:
					orientation:"vertical"
					spacing:2
					BoxLayout:
						size_hint_y:None
						height:40
						canvas:
							Color:
								rgba: 0, 0, 0, .7
							RoundedRectangle:
								size: self.size
								pos: self.pos
						BoxLayout:
							size_hint:.10,1
							Label:
								text:"Semester"
						BoxLayout:
							size_hint:.13,1
							Label:
								text:"Paid"
						BoxLayout:
							size_hint:.13,1
							Label:
								text:"Due"
						BoxLayout:
							size_hint:.13,1
							Label:
								text:"Late"
						BoxLayout:
							size_hint:.13,1
							Label:
								text:"Date"
						BoxLayout:
							size_hint:.15,1
							Label:
								text:"Trans.Id"
						BoxLayout:
							size_hint:.23,1
							Label:
								text:"Remarks"
						BoxLayout:
							size_hint:.06,1
							
					BoxLayout:
						canvas:
							Color:
								rgba:.6,.3,0.1,0
							RoundedRectangle:
								pos:self.pos
								size:self.size
						RecycleView:
							id: rv
							scroll_type: ['bars', 'content']
							scroll_wheel_distance: dp(80)
							bar_width: dp(7)
							viewclass: 'Rowinfo'
							data:[]
							RecycleBoxLayout:
								id: rb
								default_size: None, dp(56)
								default_size_hint: 1, None
								size_hint_y: None
								height: self.minimum_height
								orientation: "vertical"
								spacing: dp(5)
		MDFloatingActionButton:
			icon: "plus"
			md_bg_color: app.theme_cls.primary_color
			x: root.width-dp(90)
			y: dp(30)
			on_release:root.open_addDataLayout()

#--------------------------HomeScreen-----------------------------------------###
<HomeScreen>:

	name:"homeScreen"

	BoxLayout:
		orientation: 'vertical'

		canvas.before:

			Rectangle:
				pos: self.pos
				size: self.size
				source:"media/images/back5.jpg"

		BoxLayout:
			size_hint: (1,0.55)
			orientation: 'vertical'


			
			#####-----------logo + IIIt Kalyani -----------
			BoxLayout:
				size_hint: (1,.4)
				canvas:
					Color:
						rgba:9/255, 96/255, 235/255,0
					Rectangle:
						pos: self.pos
						size: self.size
				BoxLayout:
					size_hint: (.15, 1)
				AnchorLayout:
					size_hint: (.15,1)
					Image:
						source: "media/images/logo.png"
						size: self.texture_size

				BoxLayout:
					size_hint: (.7,1)
					orientation: 'vertical'
					BoxLayout:
						Label:
							text:"IIIT KALYANI"
							text_size: self.size
							font_size: self.height/17+self.width/17

							
					BoxLayout:
						Label:
							text_size: self.size
							text:"ACCOUNT MANAGEMENT SYSTEM"
							font_size: self.height/22+self.width/22
							halign: 'left'
							valign: 'middle'
				

			######----------------------------------------------

			BoxLayout:
				size_hint: (1,.6)
				


		BoxLayout:
			orientation: 'vertical'
			size_hint: (1,0.45)

			#contains main buttons------------------------------
			BoxLayout:
				size_hint: (1,0.4)

				AnchorLayout:

					anchor_x: 'center'
					anchor_y: 'center'

					Button:
						size_hint: None, None
						size: 125,145
						#text: "User"
						border: (0, 0, 0, 0)
						background_normal: 'media/images/multi_user3.png'
						background_down: 'media/images/multi_user3_down.png'

						on_release:
							root.openLoginPop("User")

				AnchorLayout:
					anchor_x: 'center'
					anchor_y: 'center'

					Button:
						size_hint: None, None
						size: 120,120
						#text: "User"
						border: (0, 0, 0, 0)
						background_normal: 'media/images/admin3.png'
						background_down: 'media/images/admin3_down.png'
						on_release:
							root.openLoginPop("Admin")


			##-------------labels------------------------###############
			BoxLayout:
				size_hint:1,.2

				AnchorLayout:
					anchor_x: "center"
					anchor_y: "center"

					Label:
						text: "USERS"
						bold: True
						color: C("#000000")
						font_size: dp("24")



				AnchorLayout:
					anchor_x: "center"
					anchor_y: "center"
					Label:
						text: "ADMIN"
						bold: True
						color: C("#000000")
						font_size: dp("24")



			#blankkkkkkk-------------__#######
			BoxLayout:
				size_hint: (1,0.4)


<ForgotPasswordScreen>:
	BoxLayout:
		opacity: 3.0
		spacing:10
		padding: [10, 0]
		orientation:"vertical"
		canvas:
			Color:
				rgba:0,1,0,0
			RoundedRectangle:
				pos:self.pos
				size:self.size
				radius:25,25,25,25
		BoxLayout:
			size_hint_y:.15
			spacing:-20
			AnchorLayout:
				size_hint_x:None
				width:30
				anhor_x:"left"
				MDIconButton:
					icon:"arrow-left"
					theme_text_color:"Custom"
					text_color:1,1,1,1
					on_release:
						root.parent.transition=SwapTransition()
        				root.parent.parent.opacity=0.3
        				root.parent.current='login'

			MDLabel:
				text:"Reset Password"
				font_size:self.width*.08
				halign:"center"
				color:1,1,1,1
		MDLabel:
			id:verifnLabel
			size_hint_y:.1
			text:"Send a Verification Code to Your Email"
			color:1,1,1,1
		BoxLayout:
			id:sendCodeBox
			spacing:60
			size_hint_y:.1
			MDRaisedButton:
				id:sendBtn
				text:"Send Code"
				on_release:
					root.ids.sendBtn.text="Resend Code"
					root.call_Code_Submit_Layout()

			MDLabel:
				id:statusLabel

		BoxLayout:
			id:codeSubmitBox
			spacing:50
			size_hint_y:.15

		AnchorLayout:
			opacity:1
			size_hint_y:.5
			BoxLayout:
				id:resetPasswordBox
				size_hint:.5,1
				spacing:5
				orientation:"vertical"
							
####--------------------------Login Popup Class------------------------------------####

<LoginPopup>:	
	#size_hint: (0.4, 0.7)
	size_hint: (0.3, 0.5)
	auto_dismiss: True
	background: "media/images/login4.png"
	opacity:0.3
	 

	ScreenManager:
		id:scr

		Screen:
			name:"login"
   #####-------------------Parent Boxlayout----------------------------######################

			BoxLayout:
				orientation: 'vertical'
				canvas:
					Color:
						rgba: (1,0,1,0)
					Rectangle:
						pos: self.pos
						size: self.size

				#------------------------title------------------------------------------#############
				AnchorLayout:
					size_hint: (1, .2)

					canvas:
						Color:
							rgba: (1,0,1,0)
						Rectangle:
							pos: self.pos
							size: self.size

					Label:
						opacity:3
						id: loginTitle
						text: ""
						font_size: dp(35)
						bold: True
						color: (1, 1, 1, 1)


				AnchorLayout:
					size_hint: (1, 0.8)
					canvas:
						Color:
							rgba: (1,0,0.5,0)
						Rectangle:
							pos: self.pos
							size: self.size

					#####------------------contains textInputs------------------------------#
					GridLayout:
						opacity:3
						size_hint: (0.7, 1)
						canvas:
							Color:
								rgba: (0.5,0,1,0)
							Rectangle:
								pos: self.pos
								size: self.size


						rows: 2
						cols: 1

						FloatLayout:
							size_hint_y:.5
							canvas:
								Color:
									rgba: (0.5,0,.2,0)
								Rectangle:
									pos: self.pos
									size: self.size

							BoxLayout:
								id: util_box
								orientation: 'vertical'
								pos_hint: {"center_x":0.5, "center_y": 0.5}
								size_hint: None, None
								size: self.parent.width, self.parent.height
								opacity:1
								angle: 0
								origin_: None
								axis: tuple((0,0,1))
								

								canvas.before:
									PushMatrix
									Rotate:
										axis: self.axis
										angle: self.angle 
										origin: self.origin_ or self.center

									Color:
										rgba: 1,1,0,0
									Rectangle:
										pos: self.pos
										size: self.size
								canvas.after:
									PopMatrix

								#-----------------Wrong credential info-------------#
								BoxLayout:
									size_hint: (1, 0.1)
									canvas:
										Color:
											rgba: (0.5,0.3,1,0)
										Rectangle:
											pos: self.pos
											size: self.size

									Label:
										id: warningInfo
										text: ''
										color: (1, 0, 0, 1)	

								#-----------------------username-----------------#
								AnchorLayout:
									canvas:
										Color:
											rgba: (0.3,0,0.2,0)
										Rectangle:
											pos: self.pos
											size: self.size

									BoxLayout:
										size_hint: (1, None)
										height: 40
										canvas:
											Color:
												rgba: (0,0,0,0)
											Rectangle:
												pos: self.pos
												size: self.size

										#---------username input----------#
										BoxLayout:
											size_hint: (1,1)
											canvas:
												Color:
													rgba: (0.5,0.2,0.3,0)
												Rectangle:
													pos: self.pos
													size: self.size
											MDTextFieldRound:
												id: username_
												size_hint: (1, 1)
												hint_text:"Username"
												icon_type:'left'
												icon_left: 'account-box'
												foreground_color: (0, 0, 0, 1)
												on_text_validate:
													x= root.login(root.ids.username_.text, root.ids.password_.text,\
													root.ids.loginTitle.text)
													if (x and root.ids.loginTitle.text=="User Login"):\
													app.root.transition= SlideTransition(direction="right");\
													app.root.current= "userScreen";\
													app.root.ids.userScreen.onStartUserScr()

													if (x and root.ids.loginTitle.text=="Admin Login"):\
													app.root.transition= SlideTransition(direction="left");\
													app.root.current= "adminScreen";\
													app.root.ids.adminScreen.onStartAdminScr()

								#-------------------password---------------------------#
								AnchorLayout:
									canvas:
										Color:
											rgba: (1,0,1,0)
										Rectangle:
											pos: self.pos
											size: self.size
									BoxLayout:
										size_hint: (1, None)
										height: 40
										canvas:
											Color:
												rgba: (0,0,0,0)
											Rectangle:
												pos: self.pos
												size: self.size
										#---------password input----------#
										BoxLayout:
											size_hint: (1,1)
											canvas:
												Color:
													rgba: (0,0,0,0)
												Rectangle:
													pos: self.pos
													size: self.size
											MDTextFieldRound:
												id: password_
												size_hint: (1, 1)
												hint_text:"Password"
												foreground_color: (0, 0, 0, 1)
												icon_left: 'key-variant'
												icon_right: 'eye-off'
												password: True
												icon_callback: root.show_password

												on_text_validate:
													x= root.login(root.ids.username_.text, root.ids.password_.text,\
													root.ids.loginTitle.text)
													if (x and root.ids.loginTitle.text=="User Login"):\
													app.root.transition= SlideTransition(direction="right");\
													app.root.current= "userScreen";\
													app.root.ids.userScreen.onStartUserScr()

													if (x and root.ids.loginTitle.text=="Admin Login"):\
													app.root.transition= SlideTransition(direction="left");\
													app.root.current= "adminScreen";\
													app.root.ids.adminScreen.onStartAdminScr()

						#-------------Login Btn Area----------------------------------#
						AnchorLayout:
							size_hint: (1, 0.5)
							canvas:
								Color:
									rgba: (0.5,0.5,0.5,0)
								Rectangle:
									pos: self.pos
									size: self.size
					
							#-------------------Contains login button and forgot password----------------------------------#
							BoxLayout:
								orientation: 'vertical'
								#size_hint: (1, 0.5)
								canvas:
									Color:
										rgba: (1,0,1,0)
									Rectangle:
										pos: self.pos
										size: self.size

								#-------------Login Btn Area----------------------------------#
								AnchorLayout:
									size_hint: (1, 0.5)
									canvas:
										Color:
											rgba: (0.5,0.5,0.5,0)
										Rectangle:
											pos: self.pos
											size: self.size

									#-----------------login btn-------------#
									MDFillRoundFlatButton:
										size_hint: (1, None)
										height: dp(40)
										border: (10, 10, 10, 10)
										text: "Login"
										on_release:
											x= root.login(root.ids.username_.text, root.ids.password_.text,\
											root.ids.loginTitle.text)
											if (x and root.ids.loginTitle.text=="User Login"):\
											app.root.transition= SlideTransition(direction="right");\
											app.root.current= "userScreen";\
											app.root.ids.userScreen.onStartUserScr()

											if (x and root.ids.loginTitle.text=="Admin Login"):\
											app.root.transition= SlideTransition(direction="left");\
											app.root.current= "adminScreen";\
											app.root.ids.adminScreen.onStartAdminScr()


								#--------------forgot password area---------------------------#
								AnchorLayout:
									size_hint: (1, 0.5)
									canvas:
										Color:
											rgba: (0.3,0.3,0.3,0)
										Rectangle:
											pos: self.pos
											size: self.size

									Button:
										size_hint: (0.5, 0.3)
										background_color: (0, 0, 0, 0)
										canvas.before:
											Color:
												rgba: (0,0,1,0)
											Rectangle:
												pos: self.pos
												size: self.size

										text:"Forgot Details?"
										color: (0, 0, 1, 1)
										on_release:
											root.check_caller(root.ids.loginTitle.text)
											
		ForgotPasswordScreen:
			name:"reset"

		ForgotPasswordUser:
			name:"reset_user"
			BoxLayout:
				opacity: 3.0
				spacing:10
				padding: [10, 0]
				orientation:"vertical"
				canvas:
					Color:
						rgba:0,1,0,0
					RoundedRectangle:
						pos:self.pos
						size:self.size
						radius:25,25,25,25
				BoxLayout:
					size_hint_y:.15
					spacing:-20
					AnchorLayout:
						size_hint_x:None
						width:30
						anhor_x:"left"
						MDIconButton:
							icon:"arrow-left"
							theme_text_color:"Custom"
							text_color:1,1,1,1
							on_release:
								root.ids.scr.transition=SwapTransition()
								root.opacity=0.3
								root.ids.scr.current='login'

					MDLabel:
						text:"Reset Password"
						font_size:self.width*.08
						halign:"center"
						color:1,1,1,1
				
				AnchorLayout:
					size_hint_y:.75
					MDLabel:
						halign:"center"
						text:"Please contact Admin !"
						color:1,1,1,1




#-----------------------------------------------USERS SCREEN----------------------------------------###

<UserScreen>:
	name: "userScreen"

	BoxLayout:
		orientation: 'vertical'

		#---------------------------header Area--------------------------------------###
		BoxLayout:
			id:header
			size_hint: (1, 0.07)
			canvas:
				Color:
					rgba: app.theme_cls.primary_color
				Rectangle:
					pos: self.pos
					size: self.size

			#-----------------hamburger button--------------------##
			AnchorLayout:
				size_hint: (0.1, 1)

				MDIconButton:
					id: hamburger
					icon: "menu"
					theme_text_color: "Custom"
					text_color: [1,1,1,1]
					size: sp(50), sp(50)
					on_release:
						root.open_sideNav()

			#-----------------file info area-----------------------##
			BoxLayout:
				size_hint: (0.5, 1)

				Label:
					id:batchLabel
					text: ""
					halign: "center"
					color: (0, 0, 0, 1)
					font_size: 30

			#-----------------search area-------------------------###
			AnchorLayout:
				size_hint: (0.25, 1)

				MDTextFieldRound:
					id: search
					size_hint: (0.8,None)
					hint_text:"Search"
					icon_left: 'magnify'
					icon_type:'left'
					hint_text_color:0,0,0,0.7
					active_color: [1, 1, 1, .7]
					normal_color: [.3, .3, 0.3, .5]
					text_size: dp(30)
					foreground_color: 0,0,0,1
					on_text:
						root.search(self.text.strip())

		#-----------------------body section------------------------------------#################
		BoxLayout:
			size_hint: (1, 0.9)
			orientation: 'vertical'

			BoxLayout:
				orientation:"vertical"
				BoxLayout:
					size_hint: (1, 0.08)
					canvas:
						Color:
							rgb: C("#000000")
						Rectangle:
							pos: self.pos
							size: self.size
					Section:
						size_hint_x: 0.05
						SectionLabel:
							text: "S.No."

					Section:
						size_hint_x: 0.1
						SectionLabel:
							text: "Reg. No."

					Section:
						size_hint_x: 0.2
						SectionLabel:
							text: "Name"

					Section:
						size_hint_x: 0.1
						SectionLabel:
							text: "Course"

					Section:
						size_hint_x: 0.1
						SectionLabel:
							text: "Stream"

					Section:
						size_hint_x: 0.1
						SectionLabel:
							text: "Batch"

				#-------------------------------list area-----------------------------------###########
				BoxLayout:
					#test
					canvas:
						Color:
							rgba:(1,1,1,1) if app.theme_cls.theme_style=="Dark" else (0,0,0,1)
						Rectangle:
							size:self.size
							pos:self.pos
					id: list_area
					size_hint: (1,0.93)
					spacing:"5dp"
					RecycleView:
						id: rv
						scroll_type: ['bars', 'content']
						scroll_wheel_distance: dp(100)
						bar_width: dp(7)
						viewclass: 'Row'
						data: []
						RecycleBoxLayout:
							default_size: None, dp(56)
							default_size_hint: 1, None
							size_hint_y: None
							height: self.minimum_height
							orientation: "vertical"
							spacing: .5


#--------------------------------Admin Screen--------------------------------------########
<AdminScreen>:
	name:"adminScreen"
	id:adminScreen
	BoxLayout:
		orientation: 'vertical'
		#-----------title Bar------------#
		AnchorLayout:
			size_hint: (1,0.07)
			canvas:
				Color:
					rgb: C("#000000")
				Rectangle:
					pos: self.pos
					size: self.size
			Label:
				id: top_bar
				text:"Admin:Manage User"
				font_size:26
		#------------Main Layout ---------#
		BoxLayout:
			size_hint: (1,0.96)
			#-------------Side Navigation---------#
			BoxLayout:
				orientation: 'vertical'
				size_hint: (0.13,1)
				canvas:
					Color:
						rgb: C("#ECF0F1") if app.theme_cls.theme_style=="Light" else C("#283747")
					Rectangle:
						pos: self.pos
						size: self.size

				#----------ToggleButtons in here--------------#
				AnchorLayout:
					anchor_y: 'top'
					size_hint: (1,0.3)
					#padding:10
					
					MDList:
						HoverOneLineListItem:
							text:"Manage User"
							on_release:
								root.change_screen(self)
								

						HoverOneLineListItem:
							text:"Admin Setting"
							on_release:
								root.change_screen(self)

						HoverOneLineListItem:
							text:"Manage Student"
							on_release:
								root.change_screen(self)

						HoverOneLineListItem:
							text:"App Setting"
							on_release:
								root.change_screen(self)

					

				AnchorLayout:
					size_hint: (1,0.1)
					#---------------------logout layout----------#########

					BoxLayout:
						size_hint: (1,None)
						height:"50dp"
						
						BoxLayout:
							size_hint: (.7, 1)	
							Button:
								background_color: (1,1,1,0)

								text:"Logout"
								font_size:self.width/4
								color:(0,0,0,1)
								bold: True
								on_release:
									app.root.transition= SlideTransition(direction="right")
									app.root.current="homeScreen"
						BoxLayout:
							size_hint: (.3, 1)
							MDIconButton:
								id:logoutbtn
								icon:"logout"
								size: self.height, self.width
								on_release:
									app.root.transition= SlideTransition(direction="right")
									app.root.current="homeScreen"

			#------------Working Layout---------------------#
			BoxLayout:
				size_hint: (0.83,1)
				ScreenManager:
					id:scrManager

					#---------------Manage User Screen-----------#
					Screen:
						name:"manageUser"
						BoxLayout:
							spacing:8
							padding:8
							orientation: 'vertical'
							#------------------Users Data types Label------------------#
							BoxLayout:
								#rows: 1
								#cols: 
								size_hint: (1,None)
								size: (0,40)
								canvas:
									Color:
										rgba:app.theme_cls.primary_color
									Rectangle:
										pos: self.pos
										size: self.size

									#------add user button-----------------#
								BoxLayout:
									#size_hint: (None, 1)
									#width: self.minimum_width
									size_hint_x: 0.3
									Label:
										text:"S.No."
										bold:True
								BoxLayout:
									Label:
										text:"Name"
										bold:True
								BoxLayout:
									Label:
										text:"E-Mail"
										bold:True
								BoxLayout:
									Label:
										text:"Userame"
										bold:True
								BoxLayout:
									Label:
										text:"Password"
										bold:True
								BoxLayout:
									size_hint: None, None
									size: (100, 40)

							#------------------Users Data------------------#
							BoxLayout:
								size_hint: (1,0.715)
								spacing:"5dp"
								RecycleView:
									id: rv
									scroll_type: ['bars', 'content']
									scroll_wheel_distance: dp(80)
									bar_width: dp(7)
									viewclass: 'UserInfo'
									RecycleBoxLayout:
										default_size: None, dp(45)
										default_size_hint: 1, None
										size_hint_y: None
										height: self.minimum_height
										orientation: "vertical"
										spacing: dp(4)
			
							#----dynamic Layout With Fields-------#
							BoxLayout:
								size_hint: (1,0.08)
								id:dyn_input
								spacing:5
								padding:2
								
							#-------------buttons Add,Update & Delete----------#
							AnchorLayout:
								size_hint: (1,0.145)
								anchor_x: 'right'
								padding: 5
								CircularToggleButton:
									id:addusrBtn
									size_hint:(None,None)
									size:(60,60)
									background_color:(0,0,0,0)
									text:"+"
									font_size:30
									color:1,1,1,1
									background_normal:""
									canvas.before:
										Color:
											rgba:app.theme_cls.primary_color
										Ellipse:
											size:self.size
											pos:self.pos
									on_release:
										if (self.state=="down") :root.Add_User_Layout()
										if(self.state=="normal"):root.ids.dyn_input.clear_widgets()

					#----------------manage Student Screen-------------##
					Screen:
						name:"manageStudent"

						MDTabs:
							id: tab_panel
							tab_display_mode:'text'

							MyTab:
								
								name: 'addBatch'
								text: "Add Batch"
								icon: "plus"

								BoxLayout:						
									orientation: 'vertical'
									
									AnchorLayout:						
										size_hint: (1,.8)

										BoxLayout:
											orientation: 'vertical'
											size_hint: (.3,1)
											padding: 20,50
											spacing:50
											
											MDTextField:
												id: fromYear1
												hint_text:"From Year"
												input_filter: "int"
												write_tab: False
												multiline: False
												on_text:
													self.text =self.text[:4] if len(self.text)>4 else self.text

											MDTextField:
												id: toYear1
												hint_text:"To Year"
												input_filter: "int"
												write_tab: False
												multiline: False
												on_text:
													self.text =self.text[:4] if len(self.text)>4 else self.text

											MDTextField:
												id: fee1
												hint_text:"Fee"
												input_filter: "int"
												write_tab: False
												multiline: False

											AnchorLayout:
												spacing: 50
												BoxLayout:
													spacing: 50
													size_hint: None, None
													width: self.minimum_width
													height: self.minimum_height


													MDRaisedButton:
														size_hint: None, None
														size: 100, 50
														id:courseBtn1
														elevation_normal:10
														opposite_colors: True
														text:"Select Course"
														on_release:root.openCourseList(self)
													MDRaisedButton:
														size_hint: None, None
														size: 100, 50
														id:streamBtn1
														elevation_normal:10
														opposite_colors: True
														text:"Select Stream"
														on_release:root.openStreamList(self)

											MDRaisedButton:
												size_hint: 1,None
												height: 50
												text: 'Upload file'
												elevation_normal: 10
												opposite_colors: True
												on_release:
													root.connectFileSelector(fromYear1.text,toYear1.text,\
													courseBtn1.text, streamBtn1.text, fee1.text)
									BoxLayout:
										size_hint: (1,.2)

							MyTab:
								id: deleteBatch
								name: 'deleteBatch'
								text: 'Delete Batch'
								icon: "delete"
								BoxLayout:							
									orientation: 'vertical'
									
									AnchorLayout:						
										size_hint: (1,.7)

										BoxLayout:
											orientation: 'vertical'
											size_hint: (.3,1)
											padding: 20,50
											spacing:50

											MDTextField:
												id: fromYear2
												hint_text:"From Year"
												input_filter: "int"
												write_tab: False
												multiline: False
												on_text:
													self.text =self.text[:4] if len(self.text)>4 else self.text

											MDTextField:
												id: toYear2
												hint_text:"To Year"
												input_filter: "int"
												write_tab: False
												multiline: False
												on_text:
													self.text =self.text[:4] if len(self.text)>4 else self.text

											AnchorLayout:
												
												BoxLayout:
													spacing: 50
													size_hint: None, None
													width: self.minimum_width
													height: self.minimum_height


													MDRaisedButton:
														size_hint: None, None
														size: 100, 50
														id:courseBtn2
														elevation_normal:10
														opposite_colors: True
														text:"Select Course"
														on_release:root.openCourseList(self)
													MDRaisedButton:
														size_hint: None, None
														size: 100, 50
														id:streamBtn2
														elevation_normal:10
														opposite_colors: True
														text:"Select Stream"
														on_release:root.openStreamList(self)
											#BoxLayout:
											MDRaisedButton:
												size_hint: (1,None)
												height: 50
												text: 'Delete Batch'
												elevation_normal: 10
												opposite_colors: True
												on_release:
													root.deleteBatch(fromYear2.text, toYear2.text,\
													courseBtn2.text, streamBtn2.text)
									BoxLayout:
										size_hint: (1,.2)

							MyTab:
								id: updateStudent
								name: 'updateStudent'
								text: 'Update Student Details'
								icon: "update"
								BoxLayout:							
									orientation: 'vertical'
									
									AnchorLayout:						
										size_hint: (1,.7)

										BoxLayout:
											orientation: 'vertical'
											size_hint: (.3,1)
										
											BoxLayout:
												size_hint_y: .4
												AnchorLayout:
													MDTextField:
														size_hint_x: None
														width: 250
														id: reg_no
														hint_text:"Registration number to be updated"
														input_filter: "int"
														write_tab: False
														multiline: False
														on_text:
															self.text =self.text[:3] if len(self.text)>3 else self.text
															root.checkBeforeUpdate(self.text, parentAnchor)

											AnchorLayout:
												id: parentAnchor
												
											BoxLayout:
												size_hint_y: .17
												MDRaisedButton:
													id:update
													size_hint: (1,1)
													text: 'Update'
													elevation_normal: 10
													opposite_colors: True
													on_release:
														root.updateStudentInfo(reg_no.text,parentAnchor)
									BoxLayout:
										size_hint: (1,.2)

					#----------------Manage Admin Setting--------------#
					Screen:
						name:"adminSetting"
						BoxLayout:
							padding:10,10,10,10
							BoxLayout:
								spacing:10
								size_hint:.5,1
								orientation:"vertical"

								#Basic Details
								BoxLayout:
									padding:10
									orientation:"vertical"		
										
									BoxLayout:
										size_hint_y:.1
										MDLabel:
											size_hint_x: .15
											font_size: self.width/7
											id:lbl
											text:"Admin Details"
											color:0,0,0,1 if app.theme_cls.theme_style=="Light" else 1,1,1,1
											
											
										BoxLayout:
											size_hint_x:1-root.ids.lbl.size_hint_x
											canvas:
												Color:
													rgba:app.theme_cls.primary_color
												SmoothLine:
													points:[self.x, self.y+self.height/2,self.x+self.width, self.y+self.height/2]
													width:dp(1.15)

									GridLayout:
										id:adminInfoLayout
										size_hint_y:.8
										cols:2
										AdminInfoLabel:
											title:"Name"
											text:root.admin_name
										AdminInfoLabel:
											title:"Email Id"
											text:root.admin_email
										AdminInfoLabel:
											title:"Mobile no."
											text:root.admin_mobile
										AdminInfoLabel:
											title:"Alt. Email Id"
											text:root.admin_alt_email
									
									AnchorLayout:
										size_hint_y:.1
										anchor_x:"right"
										MDIconButton:
											id:adminInfoEditBtn
											icon:"pencil"
											on_release:
												root.edit_admin_info() if self.icon=="pencil" else root.show_admin_info()
								
									

								#Basic Credential
								BoxLayout:
									padding:10
									orientation:"vertical"
									BoxLayout:
										size_hint_y:.1
										MDLabel:
											size_hint_x:.18
											font_size:self.width/8
											id:lbl1
											text:"Change Credential"
											color: 0,0,0,1 if app.theme_cls.theme_style=="Light" else 1,1,1,1
											
											
										BoxLayout:
											size_hint_x:1-root.ids.lbl1.size_hint_x
											canvas:
												Color:
													rgba:app.theme_cls.primary_color
												SmoothLine:
													points:[self.x, self.y+self.height/2,self.x+self.width, self.y+self.height/2]
													width:dp(1)

									BoxLayout:
										orientation:"vertical"
										size_hint_y:.9
										BoxLayout:
											size_hint_y:None
											height:60
											BoxLayout:
												BoxLayout:
													id:adminUsernameLayout
													AdminInfoLabel:
														title:"UserName"
														text:root.admin_username
												MDIconButton:
													id:adminUsernameEditBtn
													icon:"pencil"
													on_release:
														root.edit_admin_username() if self.icon=="pencil" else root.show_admin_username()

											BoxLayout:
											

											BoxLayout:
												BoxLayout:
													id:adminPasswordLayout
													AdminInfoLabel:
														title:"Password"
														text:"********" if (root.ids.eyeBtn.state=="normal") else root.admin_password
												BoxLayout:
													MDIconButton:
														id:eyeBtn
														icon:"eye"
														on_state:
															root.on_eye_btn_pressed(self) if root.flag==1 else None
		
													MDIconButton:
														id:adminPasswordEditBtn
														icon:"pencil"
														on_release:
															root.edit_admin_password() if self.icon=="pencil" else root.show_admin_password()
										BoxLayout:
											
										

					#---------------Manage App setting-----------------##
					Screen:
						name:"appSetting"
						ScrollView:
							MDList:
								OneLineAvatarIconListItem:
									text: "Dark Mode"
									ListRightSwitch:
										active: True if app.theme_cls.theme_style=="Dark" else False
										on_active:
											app.theme_cls.theme_style="Dark" if self.active\
											else "Light"



								TwoLineAvatarIconListItem:
									text: "Theme"
									secondary_text: "Current: " + app.theme_cls.theme_style + ", " + app.theme_cls.primary_palette
									ListRightIconButton:
										icon:"brush"
										on_release:
											root.theme_picker_open()

								TwoLineAvatarIconListItem:
									text: "CheckBox"
									secondary_text:"Somthing about this...."
									ListRightCheckBox:



#-----------------------Side Navigation ------------------------#

<SideNav>:
	size_hint: (0.2, 1)
	pos_hint: {'x': -.3}
	on_open: app.root.ids.userScreen.anim_out(root)
	on_dismiss: app.root.ids.userScreen.anim_in(root)
	BoxLayout:
		orientation: 'vertical'

		#--------------User Icon---------------------------#
		AnchorLayout:
			size_hint: (1,0.4)
			canvas:
				Color:
					rgba: (0, 1, 1, 1)
				Rectangle:
					pos: (self.x, self.y)
					size: self.size


			Image:
				source: 'media/images/user_logout_pic.png'
				size_hint: None, None
				size: 140,140
		#------------User name and Logout Button-------------#
		BoxLayout:
			size_hint: (1,0.1)
			canvas:
				Color:
					rgba:app.theme_cls.primary_color
				Rectangle:
					pos: (self.x, self.y)
					size: self.size
		#------usename--------#
			BoxLayout:
				size_hint: (0.8,1)
				Label:
					text:"Mukesh"
					bold: True
					font_size: 20
			#-------logout Button------#
			AnchorLayout:
				size_hint: (0.2,1)
				MDIconButton:
					icon:"power"
					on_release:
						app.root.transition= SlideTransition(direction="left")
						app.root.current='homeScreen'
						root.dismiss()


		#---------Blank Space----------------------------#
		BoxLayout:
			canvas:
				Color:
					rgba: (1, 1, 1, 1)
				Rectangle:
					pos: (self.x, self.y)
					size: self.size
			



#-------------------------Drop Downs Buttons--------------------------#

<CourseDrop>:
	DropBtn:
		text:"B.Tech"
		on_release: root.select(self)
	DropBtn:
		text:"Ph.D"
		on_release: root.select(self)

<StreamDrop>:
	DropBtn:
		text:"CSE"
		on_release: root.select(self)
	DropBtn:
		text:"ECE"
		on_release: root.select(self)
